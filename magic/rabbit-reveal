name: Rabbit Reveal ğŸ‡ğŸ©

on:
  workflow_dispatch:

jobs:
  prepare-stage:
    name: Set the Stage
    runs-on: ubuntu-latest
    steps:
      - name: ğŸ§¼ Sweep the stage
        run: echo "Stage cleaned. No carrots left behind."

      - name: ğŸ© Place the hat
        run: echo "Hat positioned center stage. Audience holding breath."

  summon-rabbit:
    name: Pull Rabbit from Hat
    needs: prepare-stage
    runs-on: ubuntu-latest
    steps:
      - name: ğŸ” Check magic word
        run: |
          if [ "${{ secrets.MAGIC_WORD }}" != "abracadabra" ]; then
            echo "ğŸ›‘ Incorrect magic word. Rabbit refuses to appear."
            exit 1
          fi
          echo "âœ… Magic word accepted. Proceeding with summoning..."

      - name: ğŸª„ Whisper incantation
        run: |
          echo "Abracadabra..."
          sleep 2
          echo "âœ¨âœ¨âœ¨"

      - name: ğŸ‡ Reveal rabbit
        run: |
          echo "Rabbit successfully pulled from hat!"
          echo "ğŸ‡ says hello."

      - name: ğŸ“¸ Take bow
        run: echo "Magician bows. Rabbit waves paw."

  cleanup:
    name: Vanish Evidence
    needs: summon-rabbit
    runs-on: ubuntu-latest
    steps:
      - name: ğŸ§¹ Hide the wand
        run: echo "Wand hidden behind curtain."

      - name: ğŸ•³ï¸ Close trapdoor
        run: echo "Trapdoor sealed. Secrets safe."

      - name: ğŸ“ Log applause
        run: echo "Audience claps. One child asks if rabbit is real."
